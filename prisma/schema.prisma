// InvestAI - 智能投资推荐系统数据库Schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

// 用户表
model User {
  id        Int      @id @default(autoincrement())
  username  String   @unique
  password  String   // bcrypt加密
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  
  profile   UserProfile?
  
  @@map("users")
}

// 用户投资画像表
model UserProfile {
  id               Int      @id @default(autoincrement())
  userId           Int      @unique
  riskPreference   String   // 保守/稳健/激进
  investmentAmount Float    // 投资金额
  investmentPeriod String   // 1年以内/1-3年/3-5年/5年以上
  investmentGoal   String   // 保本增值/稳健收益/高收益增长
  updatedAt        DateTime @updatedAt
  
  user             User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  
  @@map("user_profiles")
}

// 投资项目表
model Project {
  id                Int      @id @default(autoincrement())
  name              String   // 项目名称
  type              String   // 债券/基金/股票/理财产品/其他
  riskLevel         Int      // 风险等级 1-5星
  expectedReturn    Float    // 预期收益率（%）
  investmentThreshold Float  // 投资门槛（元）
  description       String?  // 项目描述（可选）
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
  
  @@map("projects")
}
